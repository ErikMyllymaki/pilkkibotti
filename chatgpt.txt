from threading import Thread
import pyautogui

fishing = False

images = ['./images/smallsurvari.png', './images/emptyhook.png', './images/ritsa.png', './images/holmes.png', './images/survi.png', './images/rod.png', './images/out.png']
image_positions = {}

def locate_images():
    while True:
        for image in images:
            image_positions[image] = pyautogui.locateOnScreen(image)

def main():
    Thread(target=locate_images).start()
    while True:
        if not fishing:
            print('ei kalasteta')
            smallsurvari = image_positions['./images/smallsurvari.png']
            emptyhook = image_positions['./images/emptyhook.png']
            ritsa = image_positions['./images/ritsa.png']
            holmes = image_positions['./images/holmes.png']
            survi = image_positions['./images/survi.png']
            rod = image_positions['./images/rod.png']
            out = image_positions['./images/out.png']

            if survi or smallsurvari:
                print('mato paikallaan, pilkitään')
                pyautogui.click(rod)
            if emptyhook:
                print('tyhjä koukku, mato vaihdetaan')
                pyautogui.click(emptyhook)
            if ritsa:
                fishing=True
                print('ritsa pilkkivalmiina, poistutaan pilkkinäkymästä')
                pyautogui.click(out)


                regenerate this following code so that it executes it's purpose when running and so that the if not fishing part runs faster